
3장 소프트웨어 가치와 비용

유지보수 비용 낮추기

1. 객체지향 캡슐화, 다형성 활용으로 변경으로 인한 영향 범위줄이기
2. 함수형 참조 투명성을 활용하여 코드 동작 방식을 이해하기 쉽게 만들기.

유지 보수 비용에 대해서 고민 할것.

4장 코드의 이해

#### 코드 이해의 시간을 줄이는 방법
---

시각화, 코드출력, 스크래치, 리팩터링등

시각화 UML 활용.

1. 액티비티 다이어그램 - **코드 실행 흐름**, 논리적 단위로 묶어서 그림

2. 시퀀스 다이어 그램 - 런타임에 구성 요소가 어떻게 상호 작용하는 지 이해하는데 도움(객체간 또는 프로세스간) 

3. 클래스 다이어그램 - 코드의 정적인 구조 이해 도움.

4. 상태 다이어그램 - 모델의 상태 변화 이해 용이.

>**Note**
>시퀀스 다이어그램 - 동시성 이슈 or 문제 발생 시점에 대한 추적에 용이 .\
>클래스 다이어그램 - 도메인 모델 분석 용이. \
>다이어그램 작성시 불필요한 요소 안그리는게 중요.

5. 의존 관계 그래프 - 데이터나 함수간 의존 관계 그림,  변경이 미치는 범위를 파악할때 도움.

코드가 길다면 코드를 출력해서 보면 편함.

#### 이해하기 좋은 코드
---

책 두권 추천 :  켄트백 - 구현 패턴, 클린코드

1. 이름 잘 짓기 : 명시적으로 잘지어야하며 짧을수록 좋지만 사용범위가 넓다면  서술적인 이름을 사용하는게 좋음.
2. 중첩 if 최소화 - if문을 역으로 만들어서 else가 없어진다면 시도해보자.
3. 변수 줄이기 -  변수로 인한 인지 부하를 낮추려면 변수 자체를 줄여야함.
4. 변수 사용 범위 좁히기 - 사용되기 직전 정의, 짧은 루프 블록 안, 짧은 if 블록안, 짧은 메서드 안.
5. 값변경 최소화 - 불변 활용.

6. 알맞은 파라미터 사용

>**Note**
> (α) 예제가 책과 다름.

**bad**

```java
@Getter
@Setter
public class UserProfileDto {
    private String username;
    private String email;
    private String phoneNumber;
    private LocalDate birthdate;
    private String address;
    private String country;
    private String city;
    private String zipcode;
    private String bio;
    private String company;
    private String position;
}

@Service
public class UserProfileService {
    public void updateUserProfile(UserProfileDto userProfileDto) {
        //로직
    }

    private void sendEmailNotification(UserProfileDto userProfileDto) {
        // 이메일 알림 처리
    }

    private void updateUserInDatabase(UserProfileDto userProfileDto) {
        // 데이터베이스 업데이트 처리
    }
}

```

**good**

```java
@Getter
@Setter
public class UserProfileDto {
    private String username;
    private String email;
    private String phoneNumber;
    private LocalDate birthdate;
}

@Service
public class UserProfileService {
    public void processProfile(String username, String email, String phoneNumber, LocalDate birthdate) {
        // 로직 처리
    }

    public void updateUserProfile(UserProfileDto userProfileDto) {
        processProfile(
            userProfileDto.getUsername(),
            userProfileDto.getEmail(),
            userProfileDto.getPhoneNumber(),
            userProfileDto.getBirthdate()
        );
    }
}

```

>**Note**
> 1. dto 필드 값이 많으면 여러 군데서 쓰 있으므로 추적하기 힘듬.
> 2. dto 필드를 사용하는 특정 로직에 맞춰서 필드를 줄여서 사용 범위도 줄여야됨.
> 3. 메서드 내부에서 다른 메서드 호출시 필요한 값만 인자로 넘겨야함.

>**Warning**
>타입을 많이 만들어서 코드복잡도가 올라가는 것 보다 필드 많은 타입이 여려군대서 사용되서 코드 분석 시간이 오래 걸리는게 더 안좋음.

